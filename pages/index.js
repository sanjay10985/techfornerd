import Head from "next/head";
import styles from "../styles/Home.module.css";
import { FeaturedPostBox } from "../containers";
import { getFeaturedPosts, getHighlightsPosts } from "../services";
import { BsHourglassTop } from "react-icons/bs";
import HighlightsPosts from "../components/HighlightsPosts";
import { useSelector } from "react-redux";
import { selectMode } from "../features/darkModeReducer";
import SocialMedia from "../components/SocialMedia";


export default function Home({ featuredposts, highlightPosts }) {
  const mode = useSelector(selectMode);

  return (
    <div className={styles.home}>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <FeaturedPostBox featuredPosts={featuredposts} />
      <section className={styles.topHighlightsPosts} id="topHighlightsPosts">
        <div className={styles.highlightLeftDiv}>
          <div style={{ color: mode ? "white" : "black" }}>
            <div className={styles.highlightTitleDiv}>
              <BsHourglassTop fontSize="3.5em" />
              <h1>Today's top highlights</h1>
            </div>
            <p>Latest game coupon codes, tutorials, hacks and nerdy news</p>
          </div>
          <div className={styles.highlightsPostsBox}>
            {highlightPosts.map((post) => (
              <HighlightsPosts post={post} key={post.id} />
            ))}
          </div>
        </div>
        <div className={styles.highlightRightDiv} id="highlightRightDiv">
          
            <SocialMedia/>
          

          {/* Trending categories div */}
          {/* Recent Posts */}
        </div>
      </section>
    </div>
  );
}

export async function getStaticProps() {
  const featuredposts = (await getFeaturedPosts()) || [];
  const highlightPosts = (await getHighlightsPosts()) || [];
  return {
    props: { featuredposts, highlightPosts },
  };
}
